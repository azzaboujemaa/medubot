<div class="modal-backdrop" (click)="close()"></div>

<div class="modal-container">

  <!-- HEADER -->
  <div class="modal-header">
    <h2>Créer un compte employé</h2>
    <button class="close-btn" (click)="close()">✕</button>
  </div>

  <!-- FORM -->
  <form (ngSubmit)="submit()" class="modal-body">

    <!-- NOM -->
    <label>Nom complet</label>
    <input
      type="text"
      [(ngModel)]="employee.name"
      name="name"
      required
    />

    <!-- EMAIL -->
    <label>Email</label>
    <input
      type="email"
      [(ngModel)]="employee.email"
      name="email"
      required
    />

    <!-- ROLE -->
    <label>Rôle</label>
    <select [(ngModel)]="employee.role" name="role" required>
      <option value="ADMIN">Admin</option>
      <option value="EMPLOYEE">Employé</option>
      <option value="OPERATOR">Opérateur</option>
      <option value="MAINTENANCE">Maintenance</option>
    </select>

    <!-- ID ROBOT -->
    <label>ID Robot</label>
    <select [(ngModel)]="robotId" name="robotId" required>
      <option value="" disabled selected>Choisir un robot</option>
      <option *ngFor="let id of robotIds" [value]="id">
        {{ id }}
      </option>
    </select>

    <!-- ZONE -->
    <label>Zone de plage</label>
    <select [(ngModel)]="zone" name="zone" required>
      <option value="" disabled selected>Choisir une zone</option>
      <option *ngFor="let z of zones" [value]="z">
        {{ z }}
      </option>
    </select>

    <!-- MOT DE PASSE -->
    <label>Mot de passe</label>
    <input
      type="password"
      [(ngModel)]="password"
      name="password"
      required
    />

    <!-- CONFIRMATION -->
    <label>Confirmer le mot de passe</label>
    <input
      type="password"
      [(ngModel)]="confirmPassword"
      name="confirmPassword"
      required
    />

    <!-- ERREUR -->
    <p *ngIf="error" class="error">
      {{ error }}
    </p>

    <!-- ACTIONS -->
    <div class="modal-actions">
      <button type="button" class="btn-cancel" (click)="close()">
        Annuler
      </button>
      <button type="submit" class="btn-save" [disabled]="loading">
        Créer
      </button>
    </div>

  </form>

</div>
